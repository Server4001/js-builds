"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},PlUpload=function(a){function b(a){_classCallCheck(this,b),_get(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.state={uploader:null}}return _inherits(b,a),_createClass(b,[{key:"componentWillMount",value:function(){console.log("componentWillMount")}},{key:"componentDidMount",value:function(){this.initUploader(),this.state.uploader.init(),this.state.uploader.bind("PostInit",this.postInit.bind(this)),this.state.uploader.bind("FilesAdded",this.filesAdded.bind(this)),this.state.uploader.bind("UploadProgress",this.uploadProgress.bind(this)),this.state.uploader.bind("Error",this.uploadError.bind(this)),this.state.uploader.bind("FileUploaded",this.fileUploaded.bind(this))}},{key:"postInit",value:function(){document.getElementById("js-filelist").innerHTML=""}},{key:"filesAdded",value:function(){this.state.uploader.start()}},{key:"uploadProgress",value:function(a,b){console.log("File: "+b.id+". Percent: "+b.percent)}},{key:"fileUploaded",value:function(a,b,c){console.log("FileUploaded")}},{key:"uploadError",value:function(a,b){console.log("Error #"+b.code+": "+b.message),"-600"===b.code||"file size error."===b.message.toLowerCase()?alert("Whoops! The max file size you can upload is: "+maxFileSize):alert("Whoops! An error occurred while trying to upload your file. Please try again.")}},{key:"initUploader",value:function(){this.state.uploader=new plupload.Uploader({runtimes:"html5,silverlight",browse_button:"js-pickfiles",container:document.getElementById("uploader"),url:this.props.url,silverlight_xap_url:"/bower_components/plupload/ls/Moxie.xap",chunk_size:this.props.chunkSize,max_retries:this.props.maxRetries,multipart:!0,multi_selection:!1,filters:{max_file_size:"999mb",mime_types:[{title:"Image files",extensions:"jpg,jpeg,gif,png,pdf,tif,tiff,ai,psd,eps,svg"}],prevent_duplicates:!1}})}},{key:"render",value:function(){return React.createElement("div",{id:"uploader"},React.createElement("button",{id:"js-pickfiles"},"Click Me"),React.createElement("div",{id:"js-filelist"}))}},{key:"componentWillReceiveProps",value:function(a){console.log("componentWillReceiveProps")}},{key:"componentWillUpdate",value:function(){console.log("componentWillUpdate")}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate")}},{key:"shouldComponentUpdate",value:function(a,b){return console.log("shouldComponentUpdate"),!0}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount")}}]),b}(React.Component);PlUpload.propTypes={chunkSize:React.PropTypes.number,maxRetries:React.PropTypes.number,url:React.PropTypes.string},PlUpload.defaultProps={name:"A Person"};var oneMeg=1048576,tenMeg=oneMeg+10,halfMeg=oneMeg/2,classSyntaxComponent=React.render(React.createElement(PlUpload,{url:"/upload_endpoint.php",chunkSize:halfMeg,maxRetries:2}),document.getElementById("content"));
//# sourceMappingURL=plupload.min.js.map